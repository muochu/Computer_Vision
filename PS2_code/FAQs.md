# NOTE: THIS FILE HAS BEEN MERGED INTO README.md AND IS PENDING REMOVAL.

FAQS:

Please check for your questions here before asking below. We will keep updating as we see new repeated questions.

#### Implementation:

Q: What are the OpenCV methods that we can use for this assignment? \
A: The objective of this assignment is for you to familiarize yourselves with Hough tools, template matching, and Fourier Transform. You can also use some other techniques to pre-process, or even after detection.
You can use the Hough tools in OpenCV, i.e houghLines, houghLinesP, houghCircles, etc.
You can use basic image processing functions of OpenCV or numpy for filtering, blurring, masking, finding edges, etc., These include but are not limited to cv2.dilate, bilateralFilter, fastNlMeansDenoisingColored, cv.Canny.
Other simple methods in Python standard library, numpy, or OpenCV can be used as long as the code passes the autograder.

Q: What are the allowed import packages? \
A:"numpy", "scipy", "cv2", "scipy", "matplotlib", "math", "itertools", "collections", "random", "enum"

Q: What OpenCV methods are NOT allowed in this assignment? \
A: Any object or shape detecting methods are not allowed.
These include but are not limited to cv2.findContours, cv2.SimpleBlobDetectors (which uses the cv2.findContours internally), cv.cornerHarris, cv2.connectedComponents, cv2.approxPolyDP, cv2.drawContours, cv2.createGeneralizedHough*.

Q: Can I modify the signatures of Python methods in my code? \
A: Yes, as long as your function passes the autograder.

Q: What are the requirements for drawing the results on images? \
A: Make sure that the text and the mark are visible. Also, ensure that all text is readable for grading.

Q: Besides the functionality tests of Autograder, are there any other requirements for my code? \
A: We will check the code, and see if you have hardcoded the sign coordinates and the sign names or not. Clear names of functions and variables, and some comments are much appreciated but this is not mandatory and should not impact grading. Wherever there is duplication, try making a single function for it.

Q: My code complains about attribute error of OpenCV methods, how can I fix it? \
A: Make sure you are using the right names of methods or attributes for version 3.
Note: https://stackoverflow.com/questions/35609719/opencv-houghlinesp-parameters

Q: Can we assume each of the "on" colors are going to be exactly the same for all cases?\
A: Yes

Q: Can we assume traffic lights and signs are always in the upright position?\
A: Yes

Q: In the report, Traffic sign detection has "color". What should it be? \
A: You may ignore the color part for traffic signs. NOTE: Traffic lights still need to have the color component.

Q: What coordinates do we return for the traffic lights: \
A: The center of the traffic light, not the "on" colour.

Q: Can I change the template? \
A: Yes, currently the template has white spaces. Even when the template is used, you NEED to make sure that the bounding box is tightly wrapped around the sign in the test image. 


#### Grading:

Q: How will this assignment be graded? \
A: Report and code will account for 200 points.
Points breakdown:
- coding section: 110 points.
- report section: 90 points.

Q: Can I write (y,x) in my report instead of (x,y), and do I have to follow the format in the report? \
A: Yes, you’ll lose points for not following the format. The format is (x, y) ie (col, row)

Q: Is there a format for the text and drawing the center? \
A: No, as long as it is clearly visible to the TAs. For text, students have used white text with a black outline in the past, which looked very neat.

Q: What parts of the test cases are randomly generated? What’s tolerance? \
A: The traffic light can be in any position, and of varying sizes. The background of all scenes will remain unchanged.

Q: My script passes the Autograder sometimes and other times, it fails. What should I do? \
A: Test cases are randomly generated by Autograder. So if it fails, it only means that your code didn't give results within the tolerance.
If you have passed all the cases, then stop. Do not keep submitting it (unless you really want to make your function really robust, which is appreciated). We take the last submitted score, and not your best score.

Q: My report submission failed due to the file size limit, what should I do? \
A: Try to reduce the size of your report pdf using tools like https://smallpdf.com/compress-pdf.

Q: My submission returned an error message of “exceeded the timeout of -1 seconds”, what should I do? \
A: If you are getting this error, it means that you are submitting your work after the deadline of the problem set. It won't be recorded as your last submission, and hence, not be graded.

Q: Canvas has a due date and an available date, which one should I use? \
A: You should always use the due date.
The “due date” is the date after which it can no longer be turned in, while the “available until” date indicates the time after which it can be no longer downloaded.
Please refer to the course syllabus for instructions on schedule, time zone requirements, and late policy.

Q: Are we allowed to discuss our programs or specific implementations that we used for PS2? \
A: Discussions are fine, as long as you do not share the code.
If you want suggestions on the for loop and such, you could probably post pseudo-code.
Students can still drop this course and retake it at some point, and hence we do not allow code sharing in this course.

Q: Any general advice for completing the PS2? \
A: Start early (preferably today) and discuss more on ed.
The course is quickly picking up speed starting from PS2.
Many students in the past semesters spent non-trivial effort in the implementation, parameter tuning, and debugging.

Q: Can you share some methods or tricks for post-processing the results returned from the Hough methods? \
A: You can try the kmeans clustering method in OpenCV.

Q: How to tune parameters for Hough Circles? Which cause the most impact? \
A: dp: trial and error \
minDist: seems like it could be related to the current radius you are testing \
param1: has to do with the Canny method, so I separately tried canny with a few combinations of parameters until I got one that showed all three circles \
param2: trial and error \
minRadius: seems related to the current radius you are testing \
maxRadius: seems related to the current radius you are testing \
Yes, if you understand what each parameter does, you'd have to tune at max 3 parameters. (Which again, after 2 or 3 trials, you should get a fair idea how changing those parameters affect your output) \

Q: I am not able to detect all the lines and circles. \
A: Hough tools in openCV are very parameter-dependent. Tune all parameters, most importantly param1 and param2.

Q: Is there an easy way to tune parameters? \
A: yes, check opencv’s trackbar, or this. A former student has worked on a trackbar and was willing to share it with you all. https://github.gatech.edu/bkerner3/trackbar

Q: I don't see a test on gradescope for the traffic light or the construction sign. \
A: Grading for this part is manual.

Q: Tolerance for traffic light centers. \
A: 5 pixels in each of the x and y directions. For example, if the center is (100, 100), a result of (95, 105) is acceptable.

#### Notes:

1. Data post-processing
- Try first to cluster the data, then compute the geometric information to find/locate shapes
- For example, you can cluster by angles of lines, or centers of line segments
- Be prepared for edge cases, which can be improved with trial and error

2. OpenCV methods usage 
- For the `dp` parameter of `cv2.HoughCircles`, float values may perform differently (and better) than integer values

3. Hough methods tuning 
- Make sure you understand the meaning and effects of each individual parameter
- Experiment with one parameter at a time, trackbars can make it easier

4. Geometric computation 
- A trick to reduce complexity is to use the fact that the signs won't rotate (may not always be true for real-world images)
- Perform clustering on the lines with certain angles, 45 degrees for the squares, 30/60 degrees for triangles, etc.
